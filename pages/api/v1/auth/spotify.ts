import { NextApiRequest, NextApiResponse } from "next";

const {
  SPOTIFY_CLIENT_ID: clientID,
  SPOTIFY_REDIRECT_URI: redirectURI,
  SPOTIFY_REQUIRED_SCOPES: requiredScopes,
} = process.env;
const baseURL = "https://accounts.spotify.com";

const spotifyAuthUrl = `${baseURL}/authorize?client_id=${clientID}&response_type=code&redirect_uri=${redirectURI}&scope=${requiredScopes}`;

export default function handler(_req: NextApiRequest, res: NextApiResponse) {
  res.redirect(spotifyAuthUrl);
}
